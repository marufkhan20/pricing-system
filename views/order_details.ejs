<%- include('partials/head.ejs') %>

<div class="mx-auto max-w-7xl mb-10 px-2 sm:px-6 lg:px-8">
  <div class="border rounded-lg mt-10 bg-white p-10">
    <h2 class="font-medium text-lg">Price List Details</h2>
    
    <div class="flex items-center justify-between flex-wrap gap-5">
      <ul class="mt-3 flex flex-col gap-4">
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Name </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.name %>
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Freight Rate </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            $<%= order?.freightRate %>
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Commision 1 </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.commission1 %>%
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Commision 2 </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.commission2 %>%
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Mark Up </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.markUp %>%
          </div>
        </li>
      </ul>
      
      <div>
        <a href="/order/download/<%= order?.id %>" class="bg-green-400 text-center py-4 px-6 rounded-md text-white outline-none transition-all hover:bg-green-500 text-sm">Download Price List</a>
      </div>
    </div>

    <div class="mt-10 overflow-auto">
      <table class="w-full" style="min-width: 800px;">
        <thead>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t border-l pt-4">#</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Description</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Pack</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Unit</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Code</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Case</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Commission</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">TI</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">HI</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Cases Per Pallet</th>
          <th class="font-medium pb-4 border-b text-center pr-2 border-r px-1 border-t pt-4">UOM</th>
          <th class="font-medium pb-4 border-b text-center pr-2 border-r px-1 border-t pt-4">HG CODE</th>
          <th class="font-medium pb-4 border-b text-center border-r px-1 border-t pt-4">Available</th>
        </thead>

        <tbody>
          <% if (products) { %>
            <% products?.forEach((product, idx) => { %>

          <tr>
            <td class="py-4 border-b border-r border-l px-1 text-center"><%= startIndex + idx + 1 %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.description %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.pack %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.unit %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.boxCode %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.case %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.commission1PerUnit %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.ti %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.hi %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= Number(product?.ti) * Number(product?.hi) %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.uom %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.wcCode %></td>
            <td class="py-4 border-b border-r px-1 text-center"><%= product?.availableInventory || 0 %></td>
          </tr>
          
          <% }) } %>

        </tbody>
      </table>

      <% if (products?.length === 0) { %>
        <p class="mt-4 text-center text-lg">No product Found! Please add new order.</p>
      <% } %>
    </div>
  </div>
</div>
   
</body>
</html>
<%- include('partials/foot.ejs') %>