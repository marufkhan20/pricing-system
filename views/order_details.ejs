<%- include('partials/head.ejs') %>

<div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8">
  <div class="border rounded-lg mt-10 bg-white p-10">
    <h2 class="font-medium text-lg">Order Details</h2>
    
    <div class="flex items-center justify-between flex-wrap gap-5">
      <ul class="mt-3 flex flex-col gap-4">
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Name </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.name %>
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Freight Rate </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            $<%= order?.freightRate %>
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Commision 1 </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.commission1 %>%
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Commision 2 </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.commission2 %>%
          </div>
        </li>
        <li class="flex items-center gap-2">
          <span class="py-2 px-5 rounded-md border">Mark Up </span>
          <span>:</span>
          <div class="py-2 px-5 rounded-md border">
            <%= order?.markUp %>%
          </div>
        </li>
      </ul>
      
      <div>
        <a href="/order/download/<%= order?.orderFileName %>" class="bg-green-400 text-center py-4 px-6 rounded-md text-white outline-none transition-all hover:bg-green-500 text-sm">Download Order File</a>
      </div>
    </div>

    <div class="mt-10 overflow-auto">
      <table class="w-full" style="min-width: 800px;">
        <thead>
          <th class="font-medium pb-4 border-b text-left">#</th>
          <th class="font-medium pb-4 border-b text-left">Image</th>
          <th class="font-medium pb-4 border-b text-left">Description</th>
          <th class="font-medium pb-4 border-b text-left">Pack</th>
          <th class="font-medium pb-4 border-b text-left">Unit</th>
          <th class="font-medium pb-4 border-b text-left">Code</th>
          <th class="font-medium pb-4 border-b text-left">Case</th>
          <th class="font-medium pb-4 border-b text-left">Commission</th>
          <th class="font-medium pb-4 border-b text-left">TI</th>
          <th class="font-medium pb-4 border-b text-left">HI</th>
          <th class="font-medium pb-4 border-b text-left">Cases Per Pallet</th>
        </thead>

        <tbody>
          <% if (order?.products) { %>
            <% order?.products?.forEach((product, idx) => { %>

          <tr>
            <td class="py-4 border-b"><%= idx + 1 %></td>
            <td class="py-4 border-b font-medium">
              <img src="<%= product?.image %>" class="w-14 rounded-md" alt="">
            </td>
            <td class="py-4 border-b"><%= product?.description %></td>
            <td class="py-4 border-b"><%= product?.pack %></td>
            <td class="py-4 border-b"><%= product?.unit %></td>
            <td class="py-4 border-b"><%= product?.boxCode %></td>
            <td class="py-4 border-b"><%= product?.case %></td>
            <td class="py-4 border-b"><%= product?.commission1PerUnit %></td>
            <td class="py-4 border-b"><%= product?.ti %></td>
            <td class="py-4 border-b"><%= product?.hi %></td>
            <td class="py-4 border-b"><%= Number(product?.ti) * Number(product?.hi) %></td>
          </tr>
          
          <% }) } %>

        </tbody>
      </table>

      <% if (order?.products?.length === 0) { %>
        <p class="mt-4 text-center text-lg">No product Found! Please add new order.</p>
      <% } %>
    </div>
  </div>
</div>
   
</body>
</html>
<%- include('partials/foot.ejs') %>